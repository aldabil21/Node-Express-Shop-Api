{"version":3,"sources":["components/Inputs/IosSwitch.js","../node_modules/@material-ui/icons/EditRounded.js","util/generals.js","../node_modules/@material-ui/icons/AddRounded.js","components/common/Tabs.js","components/common/DropZone.js","views/Categories/AddEdit.js","components/Categories/CategoryInfo.js","components/Categories/CategoryDetail.js"],"names":["SwitchStyle","withStyles","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","primary","main","opacity","border","content","i18next","t","display","fontSize","contrastText","secondary","light","justifyContent","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","focusVisibleClassName","disableRipple","disabled","IosSwitch","label","name","state","onChange","required","loading","control","e","value","target","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","createElement","d","isError","errors","param","errs","Array","isErr","length","find","err","msg","TabPanel","children","index","other","component","role","hidden","id","aria-labelledby","p","useStyles","makeStyles","flexGrow","background","paper","alignSelf","tabs","borderBottom","divider","tab","minWidth","ScrollableTabsButtonAuto","variant","setTab","title","className","indicatorColor","textColor","scrollButtons","map","i","key","onClick","container","dropzone","outline","cursor","borderColor","active","marginBottom","marginRight","boxSizing","thumbInner","overflow","img","primaryBG","DropZone","getResult","touched","initialImgs","multiple","maxSize","useState","files","setFiles","setErr","useTranslation","useDropzone","accept","onDropRejected","_","a","onDrop","acceptedFiles","prev","file","assign","preview","URL","createObjectURL","Math","random","getRootProps","getInputProps","isDragActive","thumbs","badgeContent","size","filter","revokeObjectURL","handleRemove","anchorOrigin","horizontal","vertical","src","alt","useEffect","forEach","in","severity","action","timeout","CategoryInfo","descriptions","categories","lngs","Globals","settings","languages","code","DescTab","setDescTab","lng","language","Tabs","Typography","align","desc","Box","Grid","item","xs","Input","initialValue","args","min","setTouched","serverError","data","description","multiline","rows","meta_title","meta_description","meta_keywords","CategoryDetail","image","parent_id","sort_order","editId","parentCats","setParentCats","dispatch","useDispatch","fetchParents","useCallback","getParentCategories","cats","parents","parent","category_id","push","text","sm","SelectInput","options","itemLoading","decimal","mathMin","descriptionState","validity","setEditState","category","ds","existed","cd","status","server","AddEdit","history","isEdit","match","params","editLoading","setEditLoading","setState","useSelector","fetchCategory","actions","fetchedCat","message","replace","setTimeout","clearTimeout","handleCategoryDetailState","handleSubmit","body","section","l","JSON","stringify","Paper","TableSkeleton","row","col","md","Button","endIcon","ButtonSpinner","startIcon","style"],"mappings":"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","file":"static/js/21.c99ff27a.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport i18next from \"../../i18n\";\n\nconst SwitchStyle = withStyles((theme) => ({\n  root: {\n    width: 55,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(29px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: theme.palette.primary.main,\n        opacity: 1,\n        border: \"none\",\n        \"&:after\": {\n          content: `\"${i18next.t(\"common:on\")}\"`,\n          display: \"flex\",\n          fontSize: \"0.8rem\",\n          padding: \"4px 6px\",\n          color: theme.palette.primary.contrastText,\n        },\n        \"&:before\": {\n          display: \"none\",\n        },\n      },\n    },\n    \"& + $track\": {\n      backgroundColor: theme.palette.secondary.light,\n      opacity: 1,\n      border: \"none\",\n      \"&:after\": {\n        display: \"none\",\n      },\n      \"&:before\": {\n        content: `\"${i18next.t(\"common:off\")}\"`,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        fontSize: \"0.8rem\",\n        padding: \"4px 6px\",\n        color: theme.palette.secondary.contrastText,\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: theme.palette.primary.main,\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      disabled={props.disabled}\n      {...props}\n    />\n  );\n});\n\nexport default function IosSwitch({\n  label,\n  name,\n  state,\n  onChange,\n  required,\n  loading,\n}) {\n  return (\n    <FormControlLabel\n      control={\n        <SwitchStyle\n          checked={state > 0}\n          onChange={(e) => {\n            const value = e.target.checked;\n            const validity = required ? !!value : true;\n            return onChange(value ? 1 : 0, validity, name);\n          }}\n          name={name}\n          disabled={loading}\n        />\n      }\n      label={label}\n    />\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'EditRounded');\n\nexports.default = _default;","import i18n from \"../i18n\";\n\nexport const isError = (errors, param) => {\n  const errs =\n    errors && errors instanceof Array ? errors : Array(errors ? errors : \"\");\n  const isErr = errs.length && errs.find((err) => err.param === param);\n  if (isErr) {\n    return isErr.msg;\n  }\n  return false;\n};\n\nexport const IfInputsHasErrors = (toCheckState, excludes) => {\n  let errorFields = [];\n  for (let key in toCheckState) {\n    if (!(excludes || []).some((s) => s === key)) {\n      if (!toCheckState[key].validity) {\n        errorFields.push(\n          toCheckState[key].label.props\n            ? toCheckState[key].label.props\n            : toCheckState[key].label\n        );\n      }\n    }\n  }\n  if (errorFields.length > 0) {\n    const transErrs = errorFields.map((err) =>\n      err.ns ? i18n.t(err.ns + \":\" + err.text) : i18n.t(\"common:\" + err)\n    );\n    return transErrs;\n  }\n  return false;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z\"\n}), 'AddRounded');\n\nexports.default = _default;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n    alignSelf: \"center\",\n  },\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n  },\n  tab: {\n    minWidth: \"auto\",\n  },\n}));\n\nexport default function ScrollableTabsButtonAuto({\n  tabs,\n  variant,\n  value,\n  setTab,\n  title,\n}) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {title && title}\n      <Tabs\n        value={value}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        variant=\"scrollable\"\n        scrollButtons=\"on\"\n        className={classes.tabs}\n        // centered\n      >\n        {tabs.map((tab, i) => (\n          <Tab\n            key={i}\n            label={tab.label}\n            // icon={tab.icon}\n            value={tab.id}\n            {...a11yProps(i)}\n            onClick={() => setTab(tab.id)}\n            // className={classes.tab}\n          />\n        ))}\n      </Tabs>\n      {tabs.map(\n        (tab, i) =>\n          tab.component && (\n            <TabPanel key={i} value={value} index={tab.id}>\n              {tab.component}\n            </TabPanel>\n          )\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport {\n  makeStyles,\n  Box,\n  Badge,\n  Collapse,\n  IconButton,\n} from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { useTranslation } from \"react-i18next\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\n\nconst DropZone = ({\n  title,\n  getResult,\n  required,\n  touched,\n  initialImgs,\n  multiple,\n  disabled,\n  maxSize,\n}) => {\n  const classes = useStyles();\n  const [files, setFiles] = useState(initialImgs);\n  const [err, setErr] = useState(null);\n  const { t } = useTranslation();\n\n  const {\n    // acceptedFiles,\n    getRootProps,\n    getInputProps,\n    isDragActive,\n  } = useDropzone({\n    accept: \"image/*\",\n    multiple: multiple,\n    maxSize: maxSize || 120000,\n    onDropRejected: (_, a) => setErr(t(\"common:image_err\")),\n    onDrop: (acceptedFiles) => {\n      setErr(null);\n      setFiles((prev) => {\n        return [\n          ...prev,\n          ...acceptedFiles.map((file) =>\n            Object.assign(file, {\n              preview: URL.createObjectURL(file),\n              id: Math.random(),\n            })\n          ),\n        ];\n      });\n    },\n    disabled: disabled,\n  });\n\n  const handleRemove = (file) => {\n    setFiles((prev) => prev.filter((p) => p.id !== file.id));\n    URL.revokeObjectURL(file.preview);\n  };\n\n  const thumbs = files.map((file) => (\n    <Badge\n      key={file.name}\n      badgeContent={\n        <IconButton\n          size=\"small\"\n          className={classes.primaryBG}\n          onClick={() => handleRemove(file)}\n        >\n          <ClearIcon fontSize=\"small\" className=\"text-light\" />\n        </IconButton>\n      }\n      anchorOrigin={{ horizontal: \"left\", vertical: \"top\" }}\n    >\n      <div className={classes.thumb}>\n        <div className={classes.thumbInner}>\n          <img src={file.preview} alt={file.name} className={classes.img} />\n        </div>\n      </div>\n    </Badge>\n  ));\n\n  useEffect(() => {\n    //Submit using useEffect\n    getResult(files, required ? !!files.length : true, \"image\");\n    // Make sure to revoke the data uris to avoid memory leaks\n    return () => {\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\n    };\n    // eslint-disable-next-line\n  }, [files]);\n\n  useEffect(() => {\n    if (required && touched && !files.length) {\n      setErr(t(\"common:image_err_empty\"));\n    }\n    // eslint-disable-next-line\n  }, [touched, required]);\n\n  return (\n    <section className={classes.container}>\n      <Collapse in={!!err}>\n        <Alert\n          severity=\"error\"\n          className=\"my\"\n          action={\n            <IconButton size=\"small\" onClick={() => setErr(null)}>\n              <ClearIcon fontSize=\"small\" />\n            </IconButton>\n          }\n        >\n          {err}\n        </Alert>\n      </Collapse>\n\n      <Box className=\"flex flex-start flex-wrap\">{thumbs}</Box>\n      {!disabled && (\n        <div\n          {...getRootProps({\n            className: `${classes.dropzone} ${\n              isDragActive ? classes.active : \"\"\n            } py-1 ${disabled ? classes.disabled : \"\"}`,\n          })}\n        >\n          <input {...getInputProps()} />\n          <p className=\"center\">{title}</p>\n        </div>\n      )}\n    </section>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    border: \"1px solid #ccc\",\n    borderRadius: 3,\n    padding: 5,\n  },\n  dropzone: {\n    border: \"2px dashed #ccc\",\n    borderRadius: 3,\n    outline: \"none\",\n    cursor: \"pointer\",\n    \"&:focus\": {\n      border: \"2px dashed\",\n      borderColor: theme.palette.primary.main,\n    },\n  },\n  active: {\n    border: \"2px dashed\",\n    borderColor: theme.palette.primary.main,\n    // background: theme.palette.primary.light,\n  },\n  disabled: {\n    cursor: \"not-allowed\",\n    background: \"#dedede\",\n    color: \"#b5b5b5\",\n  },\n  thumb: {\n    display: \"inline-flex\",\n    borderRadius: 2,\n    border: \"1px solid #eaeaea\",\n    marginBottom: 8,\n    marginRight: 8,\n    width: 100,\n    height: 100,\n    padding: 4,\n    boxSizing: \"border-box\",\n  },\n  thumbInner: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    minWidth: 0,\n    overflow: \"hidden\",\n  },\n  img: {\n    display: \"block\",\n    width: \"auto\",\n    height: \"100%\",\n  },\n  primaryBG: {\n    background: theme.palette.primary.main,\n    \"&:hover\": {\n      background: theme.palette.primary.light,\n    },\n  },\n}));\n\nexport default DropZone;\n","import React, { useState, useCallback, useEffect, Fragment } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport Globals from \"../../util/globals\";\nimport * as actions from \"../../store/actions\";\nimport { Typography, Grid, Paper, Box, Button } from \"@material-ui/core\";\nimport TableSkeleton from \"../../components/common/TableSkeleton\";\nimport CategoryInfo from \"../../components/Categories/CategoryInfo\";\nimport IosSwitch from \"../../components/Inputs/IosSwitch\";\nimport CategoryDetail from \"../../components/Categories/CategoryDetail\";\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\nimport ButtonSpinner from \"../../components/UI/Spinners/ButtonSpinner\";\n\nconst descriptionState = () =>\n  Globals.settings.languages.map((lng) => {\n    return {\n      language: lng.code,\n      title: {\n        value: \"\",\n        validity: false,\n      },\n      description: {\n        value: \"\",\n        validity: true,\n      },\n      meta_title: {\n        value: \"\",\n        validity: true,\n      },\n      meta_description: {\n        value: \"\",\n        validity: true,\n      },\n      meta_keywords: {\n        value: \"\",\n        validity: true,\n      },\n    };\n  });\n\nconst initialState = () => {\n  return {\n    description: descriptionState(),\n    parent_id: {\n      value: \"0\",\n      validity: true,\n    },\n    status: {\n      value: 1,\n      validity: true,\n    },\n    image: {\n      value: [],\n      validity: true,\n    },\n    sort_order: {\n      value: \"0\",\n      validity: true,\n    },\n  };\n};\n\nconst setEditState = (category) => {\n  return {\n    description: descriptionState().map((ds) => {\n      const existed = category.description.find(\n        (cd) => cd.language === ds.language\n      );\n      if (existed) {\n        return {\n          language: ds.language,\n          title: {\n            value: existed.title,\n            validity: !!existed.title,\n          },\n          description: {\n            value: existed.description,\n            validity: true,\n          },\n          meta_title: {\n            value: existed.meta_title,\n            validity: true,\n          },\n          meta_description: {\n            value: existed.meta_description,\n            validity: true,\n          },\n          meta_keywords: {\n            value: existed.meta_keywords,\n            validity: true,\n          },\n        };\n      } else {\n        return ds;\n      }\n    }),\n    parent_id: {\n      value: category.parent_id + \"\",\n      validity: true,\n    },\n    status: {\n      value: category.status,\n      validity: true,\n    },\n    image: {\n      value: [\n        {\n          id: `prev_`,\n          name: category.image,\n          preview: `${Globals.server}/${category.image}`,\n        },\n      ],\n      validity: true,\n    },\n    sort_order: {\n      value: category.sort_order + \"\",\n      validity: true,\n    },\n  };\n};\n\nlet timeout;\n\nconst AddEdit = ({ history, match }) => {\n  const isEdit = match.params.id;\n  const [editLoading, setEditLoading] = useState(!!isEdit);\n  const [state, setState] = useState(initialState());\n  const [touched, setTouched] = useState(false);\n  const categories = useSelector((state) => state.categories);\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const fetchCategory = useCallback(async () => {\n    try {\n      const fetchedCat = await dispatch(actions.getCategory(isEdit));\n      setState(setEditState(fetchedCat));\n      setEditLoading(false);\n    } catch (err) {\n      let msg = err.message || t(\"categories:category_not_found\");\n      dispatch(actions.fireSnake(\"error\", msg));\n      history.replace(\"/categories\");\n    }\n  }, [isEdit, dispatch, t, history]);\n\n  useEffect(() => {\n    if (isEdit) {\n      timeout = setTimeout(() => {\n        fetchCategory();\n      }, 0);\n    }\n    return () => clearTimeout(timeout);\n  }, [isEdit, fetchCategory]);\n\n  const handleCategoryInfoState = (value, validity, name, lng) => {\n    setState((prev) => {\n      return {\n        ...prev,\n        description: prev.description.map((d) =>\n          d.language === lng\n            ? { ...d, [name]: { value: value, validity: validity } }\n            : d\n        ),\n      };\n    });\n  };\n\n  const handleCategoryDetailState = (value, validity, name) => {\n    setState((prev) => {\n      return {\n        ...prev,\n        [name]: { value: value, validity: validity },\n      };\n    });\n  };\n\n  const handleSubmit = async () => {\n    let body = {};\n    // validate non-nested state\n    for (const key in state) {\n      if (key !== \"description\") {\n        body = { ...body, [key]: state[key].value };\n        if (!state[key].validity) {\n          setTouched(true);\n          return dispatch(\n            actions.fireSnake(\"error\", t(\"common:complete_red_input\"))\n          );\n        }\n      }\n    }\n\n    //validate description\n    let description = [];\n    for (const desc of state.description) {\n      description.push({\n        language: desc[\"language\"],\n        title: desc[\"title\"].value,\n        description: desc[\"description\"].value,\n        meta_title: desc[\"meta_title\"].value,\n        meta_description: desc[\"meta_description\"].value,\n        meta_keywords: desc[\"meta_keywords\"].value,\n      });\n      for (const key in desc) {\n        if (key !== \"language\" && !desc[key].validity) {\n          setTouched(true);\n          return dispatch(\n            actions.fireSnake(\n              \"error\",\n              t(\"common:complete_red_input_detail\", {\n                section: t(\"categories:category_info\"),\n                language: Globals.settings.languages.find(\n                  (l) => l.code === desc.language\n                ).language,\n              })\n            )\n          );\n        }\n      }\n    }\n\n    body = {\n      ...body,\n      description: JSON.stringify(description),\n    };\n\n    try {\n      await dispatch(actions.addEditCategory(body, isEdit));\n      history.replace(\"/categories\");\n    } catch (err) {\n      let msg = err.message || t(\"categories:save_err\");\n      dispatch(actions.fireSnake(\"error\", msg));\n    }\n  };\n\n  return (\n    <Fragment>\n      <Typography align=\"center\" variant=\"h4\" className=\"py-1\">\n        {isEdit ? t(\"categories:edit_category\") : t(\"categories:add_category\")}\n      </Typography>\n      {editLoading ? (\n        <Paper>\n          <TableSkeleton row={4} col={2} />\n        </Paper>\n      ) : (\n        <Fragment>\n          <Grid container spacing={1}>\n            {/* Category Info */}\n            <Grid item md={6} sm={12} xs={12}>\n              <Paper className=\"my-1\">\n                <CategoryInfo\n                  descriptions={state.description}\n                  getResult={handleCategoryInfoState}\n                  touched={touched}\n                  categories={categories}\n                />\n              </Paper>\n            </Grid>\n\n            {/* Category detail */}\n            <Grid item md={6} sm={12} xs={12}>\n              <Paper className=\"my-1 p-1\">\n                <Box className=\"flex flex-justify-between align-items-center\">\n                  <Typography align=\"center\" variant=\"h6\" className=\"p\">\n                    {t(\"categories:category_detail\")}\n                  </Typography>\n                  <IosSwitch\n                    state={state.status.value}\n                    onChange={handleCategoryDetailState}\n                    name=\"status\"\n                  />\n                </Box>\n                <CategoryDetail\n                  image={state.image.value}\n                  parent_id={state.parent_id.value}\n                  sort_order={state.sort_order.value}\n                  touched={touched}\n                  getResult={handleCategoryDetailState}\n                  categories={categories}\n                  editId={isEdit}\n                />\n              </Paper>\n            </Grid>\n          </Grid>\n\n          {/* Submit */}\n          <Box className=\"center py-1\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={handleSubmit}\n              endIcon={categories.loading && <ButtonSpinner />}\n              startIcon={isEdit ? <EditRoundedIcon /> : <AddRoundedIcon />}\n              disabled={categories.loading}\n              style={{ width: \"80%\" }}\n            >\n              <Typography variant=\"h4\" className=\"py-1\">\n                {isEdit\n                  ? t(\"categories:edit_category\")\n                  : t(\"categories:add_category\")}\n              </Typography>\n            </Button>\n          </Box>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default AddEdit;\n","import React, { Fragment, useState } from \"react\";\nimport Input from \"../Inputs/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid, Typography, Box } from \"@material-ui/core\";\nimport Globals from \"../../util/globals\";\nimport Tabs from \"../common/Tabs\";\nimport { isError } from \"../../util/generals\";\n\nconst CategoryInfo = ({ getResult, descriptions, touched, categories }) => {\n  const lngs = Globals.settings.languages;\n  const [DescTab, setDescTab] = useState(lngs[0].code);\n  const { t } = useTranslation();\n\n  const tabs = lngs.map((lng, i) => {\n    return {\n      id: lng.code,\n      label: lng.language,\n    };\n  });\n\n  return (\n    <Fragment>\n      <Tabs\n        tabs={tabs}\n        value={DescTab}\n        variant=\"standard\"\n        setTab={setDescTab}\n        title={\n          <Typography align=\"left\" variant=\"h6\" className=\"p\">\n            {t(\"categories:category_info\")}\n          </Typography>\n        }\n      />\n      {descriptions.map((desc, i) => (\n        <Box\n          key={desc.language}\n          className=\"p-1\"\n          hidden={DescTab !== desc.language}\n        >\n          <Typography\n            component=\"div\"\n            className=\"center p\"\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            {t(\"common:required_star\")}\n          </Typography>\n          <Grid container spacing={1}>\n            <Grid item xs={12}>\n              <Input\n                label={t(\"categories:category_name\") + \" **\"}\n                initialValue={desc.title.value}\n                name=\"title\"\n                getResult={(...args) => getResult(...args, desc.language)}\n                required\n                min={2}\n                setTouched={touched}\n                serverError={isError(\n                  categories.errors && categories.errors.data,\n                  `description[${i}].title`\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Input\n                label={t(\"categories:category_description\")}\n                initialValue={desc.description.value}\n                name=\"description\"\n                getResult={(...args) => getResult(...args, desc.language)}\n                multiline\n                rows={4}\n                serverError={isError(\n                  categories.errors && categories.errors.data,\n                  `description[${i}].description`\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Input\n                label={t(\"categories:meta_title\")}\n                initialValue={desc.meta_title.value}\n                name=\"meta_title\"\n                getResult={(...args) => getResult(...args, desc.language)}\n                serverError={isError(\n                  categories.errors && categories.errors.data,\n                  `description[${i}].meta_title`\n                )}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Input\n                label={t(\"categories:meta_description\")}\n                initialValue={desc.meta_description.value}\n                name=\"meta_description\"\n                getResult={(...args) => getResult(...args, desc.language)}\n                multiline\n                rows={4}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Input\n                label={t(\"categories:meta_keywords\")}\n                initialValue={desc.meta_keywords.value}\n                name=\"meta_keywords\"\n                getResult={(...args) => getResult(...args, desc.language)}\n              />\n            </Grid>\n          </Grid>\n        </Box>\n      ))}\n    </Fragment>\n  );\n};\n\nexport default CategoryInfo;\n","import React, { Fragment, useEffect, useCallback, useState } from \"react\";\nimport Input from \"../Inputs/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport SelectInput from \"../Inputs/SelectInput\";\nimport { useDispatch } from \"react-redux\";\nimport { getParentCategories } from \"../../store/actions\";\nimport { isError } from \"../../util/generals\";\nimport DropZone from \"../common/DropZone\";\n\nconst CategoryDetail = ({\n  image,\n  parent_id,\n  sort_order,\n  touched,\n  getResult,\n  categories,\n  editId,\n}) => {\n  const { t } = useTranslation();\n  const [parentCats, setParentCats] = useState([]);\n  const dispatch = useDispatch();\n\n  const fetchParents = useCallback(async () => {\n    const cats = await dispatch(getParentCategories());\n    let parents = [];\n    for (const parent of cats) {\n      if (parent.category_id !== +editId) {\n        parents.push({ value: parent.category_id + \"\", text: parent.title });\n      }\n    }\n    setParentCats(parents);\n  }, [dispatch, editId]);\n\n  useEffect(() => {\n    fetchParents();\n  }, [fetchParents]);\n\n  return (\n    <Fragment>\n      <Typography\n        component=\"div\"\n        className=\"center p\"\n        variant=\"caption\"\n        color=\"textSecondary\"\n      >\n        {t(\"common:required_star\")}\n      </Typography>\n      <Grid container spacing={2}>\n        <Grid item sm={6} xs={12}>\n          <SelectInput\n            options={[\n              {\n                value: \"0\",\n                text: t(\"common:main\"),\n              },\n              ...parentCats,\n            ]}\n            name=\"parent_id\"\n            label={t(\"categories:parent_category\") + \" **\"}\n            getResult={getResult}\n            initialValue={parent_id}\n            loading={categories.itemLoading}\n            serverError={isError(\n              categories.errors && categories.errors.data,\n              \"parent_id\"\n            )}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12}>\n          <Input\n            label={t(\"categories:sort_order\")}\n            initialValue={sort_order}\n            name=\"sort_order\"\n            getResult={getResult}\n            required\n            decimal\n            mathMin=\"-1\"\n            setTouched={touched}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <DropZone\n            getResult={getResult}\n            initialImgs={image}\n            multiple={false}\n            title={t(\"categories:thumb_suggestion\")}\n            touched={touched}\n            disabled={image.length > 0}\n          />\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default CategoryDetail;\n"],"sourceRoot":""}