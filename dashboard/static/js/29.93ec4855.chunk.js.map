{"version":3,"sources":["components/Inputs/IosSwitch.js","../node_modules/@material-ui/icons/EditRounded.js","util/generals.js","../node_modules/@material-ui/icons/AddRounded.js","components/common/Tabs.js","views/Filters/AddEdit.js","components/Filters/FilterInfo.js"],"names":["SwitchStyle","withStyles","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","primary","main","opacity","border","content","i18next","t","display","fontSize","contrastText","secondary","light","justifyContent","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","focusVisibleClassName","disableRipple","disabled","IosSwitch","label","name","state","onChange","required","loading","control","e","value","target","_interopRequireDefault","require","Object","defineProperty","exports","default","_react","_default","createElement","d","isError","errors","param","errs","Array","isErr","length","find","err","msg","TabPanel","children","index","other","component","role","hidden","id","aria-labelledby","p","useStyles","makeStyles","flexGrow","background","paper","alignSelf","tabs","borderBottom","divider","tab","minWidth","ScrollableTabsButtonAuto","variant","setTab","title","className","indicatorColor","textColor","scrollButtons","map","i","key","onClick","timeout","FilterInfo","descriptionResult","descriptions","touched","filters","parent_id","sort_order","editId","status","getResult","lngs","Globals","settings","languages","useState","code","DescTab","setDescTab","useTranslation","lng","language","parentCats","setParentCats","dispatch","useDispatch","fetchParents","useCallback","a","getParentFilters","cats","parents","parent","filter_id","push","text","useEffect","Tabs","Box","Typography","align","desc","Grid","container","item","md","sm","xs","Input","initialValue","args","min","setTouched","serverError","data","SelectInput","options","itemLoading","decimal","mathMin","descriptionState","validity","initialState","filter","description","ds","existed","fd","AddEdit","history","isEdit","match","params","editLoading","setEditLoading","setState","useSelector","fetchFilter","actions","fetchedFilter","message","replace","setTimeout","clearTimeout","handleSubmit","body","section","l","Paper","TableSkeleton","row","col","prev","Button","size","endIcon","ButtonSpinner","startIcon","style"],"mappings":"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","file":"static/js/29.93ec4855.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport i18next from \"../../i18n\";\n\nconst SwitchStyle = withStyles((theme) => ({\n  root: {\n    width: 55,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(29px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: theme.palette.primary.main,\n        opacity: 1,\n        border: \"none\",\n        \"&:after\": {\n          content: `\"${i18next.t(\"common:on\")}\"`,\n          display: \"flex\",\n          fontSize: \"0.8rem\",\n          padding: \"4px 6px\",\n          color: theme.palette.primary.contrastText,\n        },\n        \"&:before\": {\n          display: \"none\",\n        },\n      },\n    },\n    \"& + $track\": {\n      backgroundColor: theme.palette.secondary.light,\n      opacity: 1,\n      border: \"none\",\n      \"&:after\": {\n        display: \"none\",\n      },\n      \"&:before\": {\n        content: `\"${i18next.t(\"common:off\")}\"`,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        fontSize: \"0.8rem\",\n        padding: \"4px 6px\",\n        color: theme.palette.secondary.contrastText,\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: theme.palette.primary.main,\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      disabled={props.disabled}\n      {...props}\n    />\n  );\n});\n\nexport default function IosSwitch({\n  label,\n  name,\n  state,\n  onChange,\n  required,\n  loading,\n}) {\n  return (\n    <FormControlLabel\n      control={\n        <SwitchStyle\n          checked={state > 0}\n          onChange={(e) => {\n            const value = e.target.checked;\n            const validity = required ? !!value : true;\n            return onChange(value ? 1 : 0, validity, name);\n          }}\n          name={name}\n          disabled={loading}\n        />\n      }\n      label={label}\n    />\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'EditRounded');\n\nexports.default = _default;","import i18n from \"../i18n\";\n\nexport const isError = (errors, param) => {\n  const errs =\n    errors && errors instanceof Array ? errors : Array(errors ? errors : \"\");\n  const isErr = errs.length && errs.find((err) => err.param === param);\n  if (isErr) {\n    return isErr.msg;\n  }\n  return false;\n};\n\nexport const IfInputsHasErrors = (toCheckState, excludes) => {\n  let errorFields = [];\n  for (let key in toCheckState) {\n    if (!(excludes || []).some((s) => s === key)) {\n      if (!toCheckState[key].validity) {\n        errorFields.push(\n          toCheckState[key].label.props\n            ? toCheckState[key].label.props\n            : toCheckState[key].label\n        );\n      }\n    }\n  }\n  if (errorFields.length > 0) {\n    const transErrs = errorFields.map((err) =>\n      err.ns ? i18n.t(err.ns + \":\" + err.text) : i18n.t(\"common:\" + err)\n    );\n    return transErrs;\n  }\n  return false;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z\"\n}), 'AddRounded');\n\nexports.default = _default;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n// import AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-auto-tabpanel-${index}`}\n      aria-labelledby={`scrollable-auto-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </Typography>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `scrollable-auto-tab-${index}`,\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: \"100%\",\n    backgroundColor: theme.palette.background.paper,\n    alignSelf: \"center\",\n  },\n  tabs: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n  },\n  tab: {\n    minWidth: \"auto\",\n  },\n}));\n\nexport default function ScrollableTabsButtonAuto({\n  tabs,\n  variant,\n  value,\n  setTab,\n  title,\n}) {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {title && title}\n      <Tabs\n        value={value}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        variant=\"scrollable\"\n        scrollButtons=\"on\"\n        className={classes.tabs}\n        // centered\n      >\n        {tabs.map((tab, i) => (\n          <Tab\n            key={i}\n            label={tab.label}\n            // icon={tab.icon}\n            value={tab.id}\n            {...a11yProps(i)}\n            onClick={() => setTab(tab.id)}\n            // className={classes.tab}\n          />\n        ))}\n      </Tabs>\n      {tabs.map(\n        (tab, i) =>\n          tab.component && (\n            <TabPanel key={i} value={value} index={tab.id}>\n              {tab.component}\n            </TabPanel>\n          )\n      )}\n    </div>\n  );\n}\n","import React, { useState, useCallback, useEffect, Fragment } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useTranslation } from \"react-i18next\";\nimport Globals from \"../../util/globals\";\nimport * as actions from \"../../store/actions\";\nimport { Typography, Grid, Paper, Box, Button } from \"@material-ui/core\";\nimport TableSkeleton from \"../../components/common/TableSkeleton\";\nimport FilterInfo from \"../../components/Filters/FilterInfo\";\nimport AddRoundedIcon from \"@material-ui/icons/AddRounded\";\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\nimport ButtonSpinner from \"../../components/UI/Spinners/ButtonSpinner\";\n\nconst descriptionState = () =>\n  Globals.settings.languages.map((lng) => {\n    return {\n      language: lng.code,\n      title: {\n        value: \"\",\n        validity: false,\n      },\n    };\n  });\n\nconst initialState = (filter) => {\n  return {\n    description: filter\n      ? descriptionState().map((ds) => {\n          const existed = filter.description.find(\n            (fd) => fd.language === ds.language\n          );\n          if (existed) {\n            return {\n              language: ds.language,\n              title: {\n                value: existed.title,\n                validity: !!existed.title,\n              },\n            };\n          } else {\n            return ds;\n          }\n        })\n      : descriptionState(),\n    parent_id: {\n      value: filter ? filter.parent_id + \"\" : \"0\",\n      validity: true,\n    },\n    status: {\n      value: filter ? filter.status : 1,\n      validity: true,\n    },\n    sort_order: {\n      value: filter ? filter.sort_order + \"\" : \"0\",\n      validity: true,\n    },\n  };\n};\n\nlet timeout;\n\nconst AddEdit = ({ history, match }) => {\n  const isEdit = match.params.id;\n  const [editLoading, setEditLoading] = useState(!!isEdit);\n  const [state, setState] = useState(initialState());\n  const [touched, setTouched] = useState(false);\n  const filters = useSelector((state) => state.filters);\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n\n  const fetchFilter = useCallback(async () => {\n    try {\n      const fetchedFilter = await dispatch(actions.getFilter(isEdit));\n      setState(initialState(fetchedFilter));\n      setEditLoading(false);\n    } catch (err) {\n      let msg = err.message || t(\"filters:filter_not_found\");\n      dispatch(actions.fireSnake(\"error\", msg));\n      history.replace(\"/filters\");\n    }\n  }, [isEdit, dispatch, t, history]);\n\n  useEffect(() => {\n    if (isEdit) {\n      timeout = setTimeout(() => {\n        fetchFilter();\n      }, 0);\n    }\n    return () => clearTimeout(timeout);\n  }, [isEdit, fetchFilter]);\n\n  const handleFilterDescriptionState = (value, validity, name, lng) => {\n    setState((prev) => {\n      return {\n        ...prev,\n        description: prev.description.map((d) =>\n          d.language === lng\n            ? { ...d, [name]: { value: value, validity: validity } }\n            : d\n        ),\n      };\n    });\n  };\n\n  const handleFilterState = (value, validity, name) => {\n    setState((prev) => {\n      return {\n        ...prev,\n        [name]: { value: value, validity: validity },\n      };\n    });\n  };\n\n  const handleSubmit = async () => {\n    let body = {};\n    // validate non-nested state\n    for (const key in state) {\n      if (key !== \"description\") {\n        body = { ...body, [key]: state[key].value };\n        if (!state[key].validity) {\n          setTouched(true);\n          return dispatch(\n            actions.fireSnake(\"error\", t(\"common:complete_red_input\"))\n          );\n        }\n      }\n    }\n\n    //validate description\n    let description = [];\n    for (const desc of state.description) {\n      description.push({\n        language: desc[\"language\"],\n        title: desc[\"title\"].value,\n      });\n      for (const key in desc) {\n        if (key !== \"language\" && !desc[key].validity) {\n          setTouched(true);\n          return dispatch(\n            actions.fireSnake(\n              \"error\",\n              t(\"common:complete_red_input_detail\", {\n                section: t(\"filters:filter_detail\"),\n                language: Globals.settings.languages.find(\n                  (l) => l.code === desc.language\n                ).language,\n              })\n            )\n          );\n        }\n      }\n    }\n\n    body = {\n      ...body,\n      description: description,\n    };\n\n    try {\n      await dispatch(actions.addEditFilter(body, isEdit));\n      history.replace(\"/filters\");\n    } catch (err) {\n      let msg = err.message || t(\"filters:save_err\");\n      dispatch(actions.fireSnake(\"error\", msg));\n    }\n  };\n\n  return (\n    <Fragment>\n      <Typography align=\"center\" variant=\"h4\" className=\"py-1\">\n        {isEdit ? t(\"filters:edit_filter\") : t(\"filters:add_filter\")}\n      </Typography>\n      {editLoading ? (\n        <Paper>\n          <TableSkeleton row={4} col={2} />\n        </Paper>\n      ) : (\n        <Fragment>\n          <Grid container spacing={1}>\n            {/* Filter Description */}\n            <Grid item xs={12}>\n              <Paper className=\"my-1\">\n                <FilterInfo\n                  descriptions={state.description}\n                  descriptionResult={handleFilterDescriptionState}\n                  touched={touched}\n                  filters={filters}\n                  parent_id={state.parent_id.value}\n                  sort_order={state.sort_order.value}\n                  status={state.status.value}\n                  editId={isEdit}\n                  getResult={handleFilterState}\n                />\n              </Paper>\n            </Grid>\n          </Grid>\n\n          {/* Submit */}\n          <Box className=\"center py-1\">\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={handleSubmit}\n              endIcon={filters.loading && <ButtonSpinner />}\n              startIcon={isEdit ? <EditRoundedIcon /> : <AddRoundedIcon />}\n              disabled={filters.loading}\n              style={{ width: \"80%\" }}\n            >\n              <Typography variant=\"h4\" className=\"py-1\">\n                {isEdit ? t(\"filters:edit_filter\") : t(\"filters:add_filter\")}\n              </Typography>\n            </Button>\n          </Box>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default AddEdit;\n","import React, { Fragment, useState, useEffect, useCallback } from \"react\";\nimport Input from \"../Inputs/Input\";\nimport { useTranslation } from \"react-i18next\";\nimport { Grid, Typography, Box } from \"@material-ui/core\";\nimport Globals from \"../../util/globals\";\nimport Tabs from \"../common/Tabs\";\nimport { isError } from \"../../util/generals\";\nimport SelectInput from \"../Inputs/SelectInput\";\nimport { getParentFilters } from \"../../store/actions\";\nimport { useDispatch } from \"react-redux\";\nimport IosSwitch from \"../Inputs/IosSwitch\";\n\nconst FilterInfo = ({\n  descriptionResult,\n  descriptions,\n  touched,\n  filters,\n  parent_id,\n  sort_order,\n  editId,\n  status,\n  getResult,\n}) => {\n  const lngs = Globals.settings.languages;\n  const [DescTab, setDescTab] = useState(lngs[0].code);\n  const { t } = useTranslation();\n\n  const tabs = lngs.map((lng, i) => {\n    return {\n      id: lng.code,\n      label: lng.language,\n    };\n  });\n\n  const [parentCats, setParentCats] = useState([]);\n  const dispatch = useDispatch();\n\n  const fetchParents = useCallback(async () => {\n    const cats = await dispatch(getParentFilters());\n    let parents = [];\n    for (const parent of cats) {\n      if (parent.filter_id !== +editId) {\n        parents.push({ value: parent.filter_id + \"\", text: parent.title });\n      }\n    }\n    setParentCats(parents);\n  }, [dispatch, editId]);\n\n  useEffect(() => {\n    fetchParents();\n  }, [fetchParents]);\n\n  return (\n    <Fragment>\n      <Tabs\n        tabs={tabs}\n        value={DescTab}\n        variant=\"standard\"\n        setTab={setDescTab}\n        title={\n          <Box className=\"flex flex-justify-between align-items-center\">\n            <Typography align=\"left\" variant=\"h6\" className=\"p\">\n              {t(\"filters:filter_detail\")}\n            </Typography>\n            <IosSwitch state={status} onChange={getResult} name=\"status\" />\n          </Box>\n        }\n      />\n      {descriptions.map((desc, i) => (\n        <Box\n          key={desc.language}\n          className=\"p-1\"\n          hidden={DescTab !== desc.language}\n        >\n          <Typography\n            component=\"div\"\n            className=\"center p\"\n            variant=\"caption\"\n            color=\"textSecondary\"\n          >\n            {t(\"common:required_star\")}\n          </Typography>\n          <Grid container spacing={1}>\n            <Grid item md={4} sm={6} xs={12}>\n              <Input\n                label={t(\"filters:filter_name\") + \" **\"}\n                initialValue={desc.title.value}\n                name=\"title\"\n                getResult={(...args) =>\n                  descriptionResult(...args, desc.language)\n                }\n                required\n                min={2}\n                setTouched={touched}\n                serverError={isError(\n                  filters.errors && filters.errors.data,\n                  `description[${i}].title`\n                )}\n              />\n            </Grid>\n            <Grid item md={4} sm={6} xs={12}>\n              <SelectInput\n                options={[\n                  {\n                    value: \"0\",\n                    text: t(\"common:main\"),\n                  },\n                  ...parentCats,\n                ]}\n                name=\"parent_id\"\n                label={t(\"filters:parent_filter\") + \" **\"}\n                getResult={getResult}\n                initialValue={parent_id}\n                loading={filters.itemLoading}\n                serverError={isError(\n                  filters.errors && filters.errors.data,\n                  \"parent_id\"\n                )}\n              />\n            </Grid>\n            <Grid item md={4} sm={6} xs={12}>\n              <Input\n                label={t(\"filters:sort_order\")}\n                initialValue={sort_order}\n                name=\"sort_order\"\n                getResult={getResult}\n                required\n                decimal\n                mathMin=\"-1\"\n                setTouched={touched}\n              />\n            </Grid>\n          </Grid>\n        </Box>\n      ))}\n    </Fragment>\n  );\n};\n\nexport default FilterInfo;\n"],"sourceRoot":""}