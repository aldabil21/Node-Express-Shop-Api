{"version":3,"sources":["components/Inputs/IosSwitch.js","components/common/IconTextNotice.js","util/tableIcons.js","components/common/PageError.js","components/Buttons/SquareButton.js","components/common/GeneralDialog.js","components/common/CountDown.js","views/Coupons/Coupons.js"],"names":["SwitchStyle","withStyles","theme","root","width","height","padding","margin","spacing","switchBase","transform","color","palette","common","white","backgroundColor","primary","main","opacity","border","content","i18next","t","display","fontSize","contrastText","secondary","light","justifyContent","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","classes","props","focusVisibleClassName","disableRipple","disabled","IosSwitch","label","name","state","onChange","required","loading","control","e","value","target","IconTextNotice","Icon","text","onTryAgain","useTranslation","className","style","variant","onClick","endIcon","tableIcons","Add","forwardRef","ref","Edit","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","Delete","Check","Clear","Filter","Export","PageError","onTryText","customItem","ErrorOutlineRoundedIcon","useStyle","makeStyles","background","cursor","dark","warning","error","info","success","default","SquareButton","title","py","px","type","wIcon","ver","GeneralDialog","dialogOpen","onCancel","onConfirm","subtitle","contentComponent","confirmText","confirmIcon","backText","backIcon","fullWidth","withoutConfirmBtn","disableBackdropClick","open","onClose","aria-labelledby","disableEscapeKeyDown","id","textAlign","startIcon","useStyles","square","CountDown","date","Date","useState","counter","setCounter","expired","setExpired","gradient_secondary","useContext","themeContext","interval","useRef","countTime","useCallback","endDate","isAfter","now","duration","intervalToDuration","start","end","key","checkIfExpired","clearInterval","current","splitted","formatDuration","format","zero","delimiter","split","i18n","dir","language","reverse","useEffect","_intTimer","length","setInterval","locale","arSA","container","map","c","i","section","item","lg","md","sm","xs","sec","ii","charAt","toUpperCase","timeout","tableHeaders","ns","field","render","row","amount","total_limit","user_limit","min_total","date_start","date_end","initialQuery","q","page","perPage","sort","direction","Coupons","location","query","setQuery","selected","deleteDialog","setDeleteDialog","coupons","useSelector","mounted","setMounted","dispatch","useDispatch","tableRef","hasPagination","pagination","handleQuery","validity","prev","fetchCoupons","a","actions","clearTimeout","setTimeout","handleTriggerDeleteDialog","handleDeleteCoupon","coupon_id","alignItems","getResult","initialValue","smDown","to","pathname","errors","message","icons","columns","data","components","Toolbar","Actions","coupon","status","handleSwitchState","itemLoading","icon","hidden","options","detailPanelColumnAlignment","actionsColumnIndex","draggable","emptyRowsWhenPaging","search","pageSize","pageSizeOptions","thirdSortClick","showTitle","onChangeRowsPerPage","size","onOrderChange","orderBy","totalCount","currentPage","onChangePage","localization","header","body","emptyDataSourceMessage","CardGiftcardRoundedIcon","dateTimePickerLocalization","labelDisplayedRows","labelRowsSelect","isLoading"],"mappings":"mMAMMA,EAAcC,aAAW,SAACC,GAAD,MAAY,CACzCC,KAAM,CACJC,MAAO,GACPC,OAAQ,GACRC,QAAS,EACTC,OAAQL,EAAMM,QAAQ,IAExBC,WAAY,CACVH,QAAS,EACT,YAAa,CACXI,UAAW,mBACXC,MAAOT,EAAMU,QAAQC,OAAOC,MAC5B,aAAc,CACZC,gBAAiBb,EAAMU,QAAQI,QAAQC,KACvCC,QAAS,EACTC,OAAQ,OACR,UAAW,CACTC,QAAQ,IAAD,OAAMC,IAAQC,EAAE,aAAhB,KACPC,QAAS,OACTC,SAAU,SACVlB,QAAS,UACTK,MAAOT,EAAMU,QAAQI,QAAQS,cAE/B,WAAY,CACVF,QAAS,UAIf,aAAc,CACZR,gBAAiBb,EAAMU,QAAQc,UAAUC,MACzCT,QAAS,EACTC,OAAQ,OACR,UAAW,CACTI,QAAS,QAEX,WAAY,CACVH,QAAQ,IAAD,OAAMC,IAAQC,EAAE,cAAhB,KACPC,QAAS,OACTK,eAAgB,WAChBJ,SAAU,SACVlB,QAAS,UACTK,MAAOT,EAAMU,QAAQc,UAAUD,eAGnC,wBAAyB,CACvBd,MAAOT,EAAMU,QAAQI,QAAQC,KAC7BE,OAAQ,mBAGZU,MAAO,CACLzB,MAAO,GACPC,OAAQ,IAEVyB,MAAO,CACLC,aAAc,GACdZ,OAAO,aAAD,OAAejB,EAAMU,QAAQoB,KAAK,MACxCjB,gBAAiBb,EAAMU,QAAQoB,KAAK,IACpCd,QAAS,EACTe,WAAY/B,EAAMgC,YAAYC,OAAO,CAAC,mBAAoB,YAE5DC,QAAS,GACTC,aAAc,MA7DIpC,EA8DhB,YAA4B,IAAzBqC,EAAwB,EAAxBA,QAAYC,EAAY,2BAC7B,OACE,kBAAC,IAAD,eACEC,sBAAuBF,EAAQD,aAC/BI,eAAa,EACbH,QAAS,CACPnC,KAAMmC,EAAQnC,KACdM,WAAY6B,EAAQ7B,WACpBoB,MAAOS,EAAQT,MACfC,MAAOQ,EAAQR,MACfM,QAASE,EAAQF,SAEnBM,SAAUH,EAAMG,UACZH,OAKK,SAASI,EAAT,GAOX,IANFC,EAMC,EANDA,MACAC,EAKC,EALDA,KACAC,EAIC,EAJDA,MACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAC,EACC,EADDA,QAEA,OACE,kBAAC,IAAD,CACEC,QACE,kBAAClD,EAAD,CACEoC,QAASU,EAAQ,EACjBC,SAAU,SAACI,GACT,IAAMC,EAAQD,EAAEE,OAAOjB,QAEvB,OAAOW,EAASK,EAAQ,EAAI,GADXJ,KAAaI,EACWP,IAE3CA,KAAMA,EACNH,SAAUO,IAGdL,MAAOA,M,iCC5Gb,wEA8BeU,IAzBQ,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,KAAMC,EAA8B,EAA9BA,KAAM7C,EAAwB,EAAxBA,MAAO8C,EAAiB,EAAjBA,WACnCnC,EAAMoC,cAANpC,EACR,OACE,kBAAC,IAAD,CAAKhB,QAAS,EAAGqD,UAAU,UACzB,kBAACJ,EAAD,CACE5C,MAAOA,GAAS,UAChBiD,MAAO,CAAEpC,SAAU,IAAKN,QAAS,MAEnC,kBAAC,IAAD,CAAY2C,QAAQ,SAASL,GAC5BC,GACC,kBAAC,IAAD,CAAKE,UAAU,KACb,kBAAC,IAAD,CACEG,QAASL,EACT9C,MAAM,UACNkD,QAAQ,WACRE,QAAS,kBAAC,IAAD,OAERzC,EAAE,wB,iCCtBf,gSAea0C,EAAa,CACxBC,IAAKC,sBAAW,SAAC3B,EAAO4B,GAAR,OACd,kBAAC,IAAD,iBAAgB5B,EAAhB,CAAuB4B,IAAKA,EAAKxD,MAAM,UAAUa,SAAS,cAE5D4C,KAAMF,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAc5B,EAAd,CAAqB4B,IAAKA,QAC3DE,UAAWH,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAmB5B,EAAnB,CAA0B4B,IAAKA,QACrEG,SAAUJ,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAkB5B,EAAlB,CAAyB4B,IAAKA,QACnEI,SAAUL,sBAAW,SAAC3B,EAAO4B,GAAR,OACnB,kBAAC,IAAD,iBAAsB5B,EAAtB,CAA6B4B,IAAKA,QAEpCK,aAAcN,sBAAW,SAAC3B,EAAO4B,GAAR,OACvB,kBAAC,IAAD,iBAAwB5B,EAAxB,CAA+B4B,IAAKA,QAEtCM,YAAaP,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAe5B,EAAf,CAAsB4B,IAAKA,QACnEO,OAAQR,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAgB5B,EAAhB,CAAuB4B,IAAKA,QAC/DQ,UAAWT,sBAAW,SAAC3B,EAAO4B,GAAR,OAAgB,kBAAC,IAAD,iBAAgB5B,EAAhB,CAAuB4B,IAAKA,QAClES,OAAQV,sBAAW,SAAC3B,EAAO4B,GAAR,OACjB,kBAAC,IAAD,iBAA+B5B,EAA/B,CAAsC4B,IAAKA,EAAKxD,MAAM,cAExDkE,MAAOX,sBAAW,SAAC3B,EAAO4B,GAAR,OAChB,kBAAC,IAAD,iBAAuB5B,EAAvB,CAA8B4B,IAAKA,EAAKxD,MAAM,gBAEhDmE,MAAOZ,sBAAW,SAAC3B,EAAO4B,GAAR,OAChB,kBAAC,IAAD,iBAAe5B,EAAf,CAAsB4B,IAAKA,EAAKxD,MAAM,cAExCoE,OAAQb,sBAAW,SAAC3B,EAAO4B,GAAR,OACjB,kBAAC,IAAD,iBAA4B5B,EAA5B,CAAmC4B,IAAKA,QAE1Ca,OAAQd,sBAAW,SAAC3B,EAAO4B,GAAR,OACjB,kBAAC,IAAD,iBAAuB5B,EAAvB,CAA8B4B,IAAKA,EAAKxD,MAAM,UAAUa,SAAS,gB,iCC5CrE,mGA+BeyD,IAzBG,SAAC,GAAiD,IAA/CzB,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,WAAYyB,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WACxC7D,EAAMoC,cAANpC,EACFiC,EAAO4B,GAA0BC,IACvC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK9E,QAAS,EAAGqD,UAAU,UACzB,kBAACJ,EAAD,CAAM5C,MAAM,QAAQiD,MAAO,CAAEpC,SAAU,IAAKN,QAAS,MACrD,kBAAC,IAAD,CAAY2C,QAAQ,SAASL,GAC5BC,GACC,kBAAC,IAAD,CAAKE,UAAU,KACb,kBAAC,IAAD,CACEG,QAASL,EACT9C,MAAM,UACNkD,QAAQ,WACRE,QAAS,kBAAC,IAAD,OAERmB,GAAa5D,EAAE,yB,iCCtB9B,oCA2CM+D,EAAWC,aAAW,SAACpF,GAAD,MAAY,CACtCc,QAAS,CACPuE,WAAYrF,EAAMU,QAAQI,QAAQC,KAClCuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQI,QAAQW,OAEpC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQI,QAAQyE,OAGtC/D,UAAW,CACT6D,WAAYrF,EAAMU,QAAQc,UAAUT,KACpCuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQc,UAAUC,OAEtC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQc,UAAU+D,OAGxCC,QAAS,CACPH,WAAYrF,EAAMU,QAAQ8E,QAAQzE,KAClCuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQc,UAAUC,OAEtC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQc,UAAU+D,OAGxCE,MAAO,CACLJ,WAAYrF,EAAMU,QAAQ+E,MAAM1E,KAChCuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQ+E,MAAMhE,OAElC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQ+E,MAAMF,OAGpCG,KAAM,CACJL,WAAYrF,EAAMU,QAAQgF,KAAK3E,KAC/BuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQgF,KAAKjE,OAEjC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQgF,KAAKH,OAGnCI,QAAS,CACPN,WAAYrF,EAAMU,QAAQiF,QAAQ5E,KAClCuE,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQiF,QAAQlE,OAEpC,WAAY,CACV4D,WAAYrF,EAAMU,QAAQiF,QAAQJ,OAGtCK,QAAS,CACPP,WAAYrF,EAAMU,QAAQoB,KAAK,KAC/BwD,OAAQ,UACR,UAAW,CACTD,WAAYrF,EAAMU,QAAQoB,KAAK,MAEjC,WAAY,CACVuD,WAAYrF,EAAMU,QAAQoB,KAAK,WAKtB+D,IAhHM,SAAC,GAQf,IAPLC,EAOI,EAPJA,MACAlC,EAMI,EANJA,QAMI,IALJmC,UAKI,MALC,EAKD,MAJJC,UAII,MAJC,EAID,MAHJC,YAGI,MAHG,UAGH,EAFJC,EAEI,EAFJA,MACAC,EACI,EADJA,IAEM/D,EAAU+C,IAChB,OACE,yBAAK1B,UAAS,qBACZ,kBAAC,IAAD,CACEA,UAAS,UAAKrB,EAAQ6D,GAAb,iBACPE,EAAM,MAAQ,MADP,0EAGTzC,MAAO,CAAEtD,QAAQ,GAAD,OAAK2F,EAAL,eAAcC,EAAd,QAChBpC,QAASA,GAERsC,EACAJ,M,iCCxBT,+HAkFeM,IAtEO,SAAC,GAgBhB,IAfLC,EAeI,EAfJA,WACAC,EAcI,EAdJA,SACAC,EAaI,EAbJA,UACAxD,EAYI,EAZJA,QACAP,EAWI,EAXJA,SACAsD,EAUI,EAVJA,MACAU,EASI,EATJA,SACAC,EAQI,EARJA,iBACAC,EAOI,EAPJA,YACAC,EAMI,EANJA,YACAC,EAKI,EALJA,SACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,qBAEQ5F,EAAMoC,cAANpC,EACR,OACE,kBAAC,IAAD,CACE6F,KAAMZ,EACNa,QAASZ,EACTa,kBAAgB,eAChBL,UAAWA,EACXE,uBAAwBA,EACxBI,uBAAwBJ,GAEvBlB,GACC,kBAAC,IAAD,CAAauB,GAAG,eAAe3D,MAAO,CAAE4D,UAAW,WAChDxB,IAGHU,GAAYC,IACZ,kBAAC,IAAD,KACGA,EACD,kBAAC,IAAD,KAAoBD,IAGxB,kBAAC,IAAD,CACE9C,MAAO,CACLrC,QAAS,OACTK,eAAgB,gBAChBtB,QAAS,KAGX,kBAAC,IAAD,CACEwD,QAAS0C,EACT3C,QAAQ,YACRlD,MAAM,UACN8G,UAAWV,GAAsB,kBAAC,IAAD,OAEhCD,GAAsBxF,EAAE,mBAEzB2F,GACA,kBAAC,IAAD,CACEnD,QAAS2C,EACT5C,QAAQ,YACRlD,MAAM,UACN8G,UAAWZ,GAA4B,kBAAC,IAAD,MACvC9C,QAASd,EAAU,kBAAC,IAAD,MAAoB,KACvCP,SAAUO,GAAWP,GAEpBkE,O,4JCkCPc,EAAYpC,aAAW,SAACpF,GAAD,MAAY,CACvCyH,OAAQ,CACNhH,MAAOT,EAAMU,QAAQc,UAAUD,aAC/BlB,OAAQ,EACRD,QAAS,OAIEsH,IA5FG,SAAC,GAA2B,IAAD,IAAxBC,YAAwB,MAAjB,IAAIC,KAAa,IAEbC,mBAAS,IAFI,mBAEpCC,EAFoC,KAE3BC,EAF2B,OAGbF,oBAAS,GAHI,mBAGpCG,EAHoC,KAG3BC,EAH2B,KAInCC,EAAuBC,qBAAWC,KAAlCF,mBACFG,EAAWC,mBAEXC,EAAYC,uBAAY,WAC5B,IAAMC,EAAUC,YAAQf,EAAMC,KAAKe,OAAShB,EAAOC,KAAKe,MAElDC,EAAWC,YAAmB,CAClCC,MAAO,IAAIlB,KACXmB,IAAKN,IAKP,GA5BmB,SAACG,GACtB,IAAIZ,GAAU,EACd,IAAK,IAAMgB,KAAOJ,EAChB,GAAIA,EAASI,GAAO,EAAG,CACrBhB,GAAU,EACV,MAGJ,OAAOA,EAmBaiB,CAAeL,GAG/B,OADAX,GAAW,GACJiB,cAAcb,EAASc,SAGhC,IAYIC,EAZsBC,YAAeT,EAAU,CACjDU,OAAQ,CAAC,OAAQ,QAAS,UAAW,WACrCC,MAAM,EACNC,UAAW,MASoBC,MAAM,KACP,QAA5BC,IAAKC,IAAID,IAAKE,WAChBR,EAASS,UAEX9B,EAAWqB,KACV,CAACzB,EAAMU,IAEVyB,qBAAU,WACR,IAAIC,EAAYjC,EAAQkC,OAAS,IAAO,EAOxC,OANKhC,IACHK,EAASc,QAAUc,aAAY,WAC7B1B,MACCwB,IAGE,kBAAMb,cAAcb,EAASc,YACnC,CAACrB,EAASS,EAAWP,IAExB,IAAM5F,EAAUoF,IAChB,OAAOQ,EACL,kBAAC,IAAD,CAAYrE,QAAQ,SACjB2F,kBAAO3B,EAAM,+BAAgC,CAC5CuC,OAA0B,OAAlBR,IAAKE,SAAoBO,IAAO,MAI5C,kBAAC,IAAD,CAAMC,WAAS,GACZtC,EAAQuC,KAAI,SAACC,EAAGC,GACf,IAAMC,EAAUF,EAAEb,MAAM,KAExB,OACE,kBAAC,IAAD,CAAMgB,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG7B,IAAKuB,GAC1C,kBAAC,IAAD,CAAK9G,UAAS,iBAAYyE,EAAZ,YAAkC9F,EAAQqF,SACrD+C,EAAQH,KAAI,SAACS,EAAKC,GAAN,OACXA,EAAK,EACH,kBAAC,IAAD,CAAY/B,IAAK+B,GACdD,EAAIE,OAAO,GAAGC,eAGjB,kBAAC,IAAD,CAAYjC,IAAK+B,GAAKD,c,4CCsBpCI,E,uVAjFEC,EAAe,CACnB,CACErF,MAAO,kBAAC,IAAD,CAAOsF,GAAG,SAAS9H,KAAK,SAC/B+H,MAAO,QACPnL,MAAO,KAET,CACE4F,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,SAChC+H,MAAO,OACPnL,MAAO,KAET,CACE4F,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,SAChC+H,MAAO,OACPC,OAAQ,SAACC,GAAD,OAAS,kBAAC,IAAD,CAAOH,GAAG,UAAU9H,KAAMiI,EAAItF,SAEjD,CACEH,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,WAChC+H,MAAO,SACPC,OAAQ,SAACC,GAAD,MAAuB,MAAbA,EAAItF,KAAJ,UAAsBsF,EAAIC,OAA1B,KAAsCD,EAAIC,SAE9D,CACE1F,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,gBAChC+H,MAAO,cACPC,OAAQ,SAACC,GAAD,OACNA,EAAIE,YAAc,EAChBF,EAAIE,YAEJ,kBAAC,IAAD,CAAOL,GAAG,UAAU9H,KAAK,gBAG/B,CACEwC,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,eAChC+H,MAAO,aACPC,OAAQ,SAACC,GAAD,OACNA,EAAIG,WAAa,EACfH,EAAIG,WAEJ,kBAAC,IAAD,CAAON,GAAG,UAAU9H,KAAK,eAE7BpD,MAAO,KAET,CACE4F,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,cAChC+H,MAAO,YACPC,OAAQ,SAACC,GAAD,OACNA,EAAII,UAAY,EACdJ,EAAII,UAEJ,kBAAC,IAAD,CAAOP,GAAG,UAAU9H,KAAK,gBAI/B,CACEwC,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,SAChC+H,MAAO,QAET,CACEvF,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,eAChC+H,MAAO,aACPC,OAAQ,SAACC,GAAD,OACNjC,kBAAO,IAAI1B,KAAK2D,EAAIK,YAAa,6BAA8B,CAC7D1B,OAA0B,OAAlBR,IAAKE,SAAoBO,IAAO,OAG9C,CACErE,MAAO,kBAAC,IAAD,CAAOsF,GAAG,UAAU9H,KAAK,aAChC+H,MAAO,WACPC,OAAQ,SAACC,GAAD,OAAS,kBAAC,IAAD,CAAW5D,KAAM,IAAIC,KAAK2D,EAAIM,aAC/C3L,MAAO,MAIL4L,EAAe,CACnBC,EAAG,GACHC,KAAM,EACNC,QAAS,GACTC,KAAM,aACNC,UAAW,OAsNEC,UAjNC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACNxE,mBAASiE,GADH,mBACzBQ,EADyB,KAClBC,EADkB,OAEQ1E,mBAAS,CAC/CZ,MAAM,EACNuF,SAAU,OAJoB,mBAEzBC,EAFyB,KAEXC,EAFW,KAO1BC,EAAUC,aAAY,SAAChK,GAAD,OAAWA,EAAM+J,WAPb,EAQF9E,oBAAS,GARP,mBAQzBgF,EARyB,KAQhBC,EARgB,KAS1BC,EAAWC,cACT5L,EAAMoC,cAANpC,EACF6L,EAAW3E,mBACX4E,EAAgBP,EAAQA,QAAQQ,WAEhCC,GAAc,SAAClK,EAAOmK,EAAU1K,GACpC4J,GAAS,SAACe,GACR,OAAO,2BACFA,GADL,kBAEG3K,EAAOO,QAKRqK,GAAe/E,sBAAW,sBAAC,sBAAAgF,EAAA,+EAEvBT,EAASU,IAAmBnB,IAFL,uBAI7BQ,GAAW,GAJkB,uEAM9B,CAACC,EAAUT,IAEdxC,qBAAU,WAKR,OAJA4D,aAAaxC,GACbA,EAAUyC,YAAW,WACnBJ,OACC,KACI,kBAAMG,aAAaxC,MACzB,CAACoB,EAAOiB,KAEX,IAMMK,GAA4B,SAACpB,GACjCE,EAAgB,CACdzF,MAAOwF,EAAaxF,KACpBuF,SAAUA,KAIRqB,GAAkB,uCAAG,4BAAAL,EAAA,6DACnBnG,EAAKoF,EAAaD,SAASsB,UADR,SAEnBf,EAASU,IAAqBpG,IAFX,OAGzBuG,KAHyB,2CAAH,qDAMxB,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAYjK,QAAQ,KAAKF,UAAU,MAChCrC,EAAE,yBAEL,kBAAC,IAAD,CAAMgJ,WAAS,EAAC9J,QAAS,EAAGyN,WAAW,SAAStK,UAAU,MACxD,kBAAC,IAAD,CAAMgH,MAAI,EAACG,GAAI,EAAGC,GAAI,IACpB,kBAAC,IAAD,CACEnI,MAAOtB,EAAE,oBACT4M,UAAWZ,GACXzK,KAAK,IACLsL,aAAc3B,EAAMP,KAGxB,kBAAC,IAAD,CAAQmC,QAAM,GACZ,kBAAC,IAAD,CAAMzD,MAAI,EAACE,GAAI,KAEjB,kBAAC,IAAD,CAAMF,MAAI,EAACE,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC3B,kBAAC,IAAD,CAAMsD,GAAE,UAAK9B,EAAS+B,SAAd,SACN,kBAAC,IAAD,CACEtI,MAAO1E,EAAE,sBACT8E,MACE,kBAAC,IAAD,CACEzC,UAAU,aACVnC,SAAS,UAGbyE,GAAI,GACJC,GAAI,GACJC,KAAK,gBAMb4G,GAIGF,EAAQ5J,SAAW4J,EAAQ0B,OAC9B,kBAAC,IAAD,CACE/K,KAAMqJ,EAAQ0B,OAAOC,SAAWlN,EAAE,uBAClCmC,WAAYgK,KAGd,kBAAC,IAAD,CACEgB,MAAOzK,IACP0K,QAASrD,EACT8B,SAAUA,EACVwB,KAAM9B,EAAQA,QAAQA,QACtB+B,WAAY,CACVC,QAAS,SAACtM,GAAD,MAAW,KACpBuM,QAAS,SAACvM,GACR,IAAMwM,EAASxM,EAAMoM,KACrB,OACE,oCACE,kBAAC,IAAD,CAAS3I,MAAO1E,EAAE,gBAChB,kBAAC,IAAD,CAAM+M,GAAE,UAAK9B,EAAS+B,SAAd,iBAA+BS,EAAOf,YAC5C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAiBrN,MAAM,iBAI7B,kBAAC,IAAD,CAASqF,MAAO1E,EAAE,kBAChB,kBAAC,IAAD,CACEwC,QAAS,kBAAMgK,GAA0BiB,KAEzC,kBAAC,IAAD,CAAmBpO,MAAM,YAG7B,kBAAC,IAAD,CACEmC,MAAOiM,EAAOC,OACdjM,SAAU,kBA5FF,SAAC4L,GACzB,IAAMpH,EAAKoH,EAAKX,UACVgB,EAASL,EAAKK,OAAS,EAAI,EAAI,EACrC/B,EAASU,KAA2BpG,EAAIyH,IAyFRC,CAAkBF,IAClClM,KAAK,SACLI,QAAS4J,EAAQqC,iBAM3BvB,QAAS,CACP,CACEwB,KAAM,kBAAM,MACZrL,QAAS,kBAAM,MACfsL,QAAQ,IAGZC,QAAS,CACPC,2BAA4B,QAC5BC,oBAAqB,EACrBC,WAAW,EACXC,qBAAqB,EACrBC,QAAQ,EACRC,SAAUnD,EAAML,QAChByD,gBAAiB,CAAC,EAAG,GAAI,GAAI,IAC7BC,gBAAgB,EAChBC,WAAW,GAEbC,oBAAqB,SAACC,GAAD,OAAU1C,GAAY0C,EAAM,EAAM,YACvDC,cAAe,SAACC,EAAS7D,GACvB,IAAMD,EAAOf,EAAa6E,GAAS3E,MACnCkB,GAAS,SAACe,GACR,OAAO,2BACFA,GADL,IAEEpB,KAAMA,EACNC,UAAWA,QAIjB8D,WAAY/C,EAAgBA,EAAc+C,WAAa,EACvDjE,KAAMkB,EAAgBA,EAAcgD,YAAc,EAClDC,aAAc,SAACnE,GAAD,OAAUoB,GAAYpB,EAAM,EAAM,SAChDoE,aAAc,CACZC,OAAQ,CACN5C,QAAS,IAEX6C,KAAM,CACJC,uBAAwB5D,EAAQ5J,QAC5B3B,EAAE,sBACDuL,EAAQ5J,UACR4J,EAAQ0B,QACP,kBAAC,IAAD,CACEhL,KAAMmN,IACNlN,KAAMlC,EAAE,wBAGhBqP,2BAA8C,OAAlB/G,IAAKE,SAAoBO,IAAO,IAE9DgD,WAAY,CACVuD,mBACE,eAAiBtP,EAAE,eAAiB,WACtCuP,gBAAiBvP,EAAE,oBAGvBwP,UAAWjE,EAAQ5J,UAlGrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAewI,IAAK,KAoGxB,kBAAC,IAAD,CACElF,WAAYoG,EAAaxF,KACzBP,YAAatF,EAAE,kBACf0E,MAAO1E,EAAE,yBACTkF,SAAU,kBAAMsH,MAChBrH,UAAWsH,GACX9K,QAAS4J,EAAQqC,YACjBhI,sBAAoB","file":"static/js/19.030925cd.chunk.js","sourcesContent":["import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport i18next from \"../../i18n\";\n\nconst SwitchStyle = withStyles((theme) => ({\n  root: {\n    width: 55,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    \"&$checked\": {\n      transform: \"translateX(29px)\",\n      color: theme.palette.common.white,\n      \"& + $track\": {\n        backgroundColor: theme.palette.primary.main,\n        opacity: 1,\n        border: \"none\",\n        \"&:after\": {\n          content: `\"${i18next.t(\"common:on\")}\"`,\n          display: \"flex\",\n          fontSize: \"0.8rem\",\n          padding: \"4px 6px\",\n          color: theme.palette.primary.contrastText,\n        },\n        \"&:before\": {\n          display: \"none\",\n        },\n      },\n    },\n    \"& + $track\": {\n      backgroundColor: theme.palette.secondary.light,\n      opacity: 1,\n      border: \"none\",\n      \"&:after\": {\n        display: \"none\",\n      },\n      \"&:before\": {\n        content: `\"${i18next.t(\"common:off\")}\"`,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        fontSize: \"0.8rem\",\n        padding: \"4px 6px\",\n        color: theme.palette.secondary.contrastText,\n      },\n    },\n    \"&$focusVisible $thumb\": {\n      color: theme.palette.primary.main,\n      border: \"6px solid #fff\",\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create([\"background-color\", \"border\"]),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      disabled={props.disabled}\n      {...props}\n    />\n  );\n});\n\nexport default function IosSwitch({\n  label,\n  name,\n  state,\n  onChange,\n  required,\n  loading,\n}) {\n  return (\n    <FormControlLabel\n      control={\n        <SwitchStyle\n          checked={state > 0}\n          onChange={(e) => {\n            const value = e.target.checked;\n            const validity = required ? !!value : true;\n            return onChange(value ? 1 : 0, validity, name);\n          }}\n          name={name}\n          disabled={loading}\n        />\n      }\n      label={label}\n    />\n  );\n}\n","import React from \"react\";\nimport { Box, Typography, Button } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nconst IconTextNotice = ({ Icon, text, color, onTryAgain }) => {\n  const { t } = useTranslation();\n  return (\n    <Box padding={5} className=\"center\">\n      <Icon\n        color={color || \"primary\"}\n        style={{ fontSize: 200, opacity: 0.1 }}\n      />\n      <Typography variant=\"body2\">{text}</Typography>\n      {onTryAgain && (\n        <Box className=\"m\">\n          <Button\n            onClick={onTryAgain}\n            color=\"primary\"\n            variant=\"outlined\"\n            endIcon={<CachedIcon />}\n          >\n            {t(\"common:tryagain\")}\n          </Button>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default IconTextNotice;\n","import React, { forwardRef } from \"react\";\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\nimport HeightIcon from \"@material-ui/icons/Height\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport DeleteOutlineOutlinedIcon from \"@material-ui/icons/DeleteOutlineOutlined\";\nimport CheckOutlinedIcon from \"@material-ui/icons/CheckOutlined\";\nimport FilterListOutlinedIcon from \"@material-ui/icons/FilterListOutlined\";\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nexport const tableIcons = {\n  Add: forwardRef((props, ref) => (\n    <AddBoxIcon {...props} ref={ref} color=\"primary\" fontSize=\"large\" />\n  )),\n  Edit: forwardRef((props, ref) => <EditIcon {...props} ref={ref} />),\n  FirstPage: forwardRef((props, ref) => <FirstPageIcon {...props} ref={ref} />),\n  LastPage: forwardRef((props, ref) => <LastPageIcon {...props} ref={ref} />),\n  NextPage: forwardRef((props, ref) => (\n    <NavigateNextIcon {...props} ref={ref} />\n  )),\n  PreviousPage: forwardRef((props, ref) => (\n    <NavigateBeforeIcon {...props} ref={ref} />\n  )),\n  ResetSearch: forwardRef((props, ref) => <ClearIcon {...props} ref={ref} />),\n  Search: forwardRef((props, ref) => <SearchIcon {...props} ref={ref} />),\n  SortArrow: forwardRef((props, ref) => <HeightIcon {...props} ref={ref} />),\n  Delete: forwardRef((props, ref) => (\n    <DeleteOutlineOutlinedIcon {...props} ref={ref} color=\"error\" />\n  )),\n  Check: forwardRef((props, ref) => (\n    <CheckOutlinedIcon {...props} ref={ref} color=\"primary\" />\n  )),\n  Clear: forwardRef((props, ref) => (\n    <ClearIcon {...props} ref={ref} color=\"error\" />\n  )),\n  Filter: forwardRef((props, ref) => (\n    <FilterListOutlinedIcon {...props} ref={ref} />\n  )),\n  Export: forwardRef((props, ref) => (\n    <CloudDownloadIcon {...props} ref={ref} color=\"primary\" fontSize=\"large\" />\n  )),\n};\n","import React from \"react\";\nimport { Box, Typography, Button, Paper } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\nimport ErrorOutlineRoundedIcon from \"@material-ui/icons/ErrorOutlineRounded\";\n\nconst PageError = ({ text, onTryAgain, onTryText, customItem }) => {\n  const { t } = useTranslation();\n  const Icon = customItem ? customItem : ErrorOutlineRoundedIcon;\n  return (\n    <Paper>\n      <Box padding={5} className=\"center\">\n        <Icon color=\"error\" style={{ fontSize: 200, opacity: 0.2 }} />\n        <Typography variant=\"body2\">{text}</Typography>\n        {onTryAgain && (\n          <Box className=\"m\">\n            <Button\n              onClick={onTryAgain}\n              color=\"primary\"\n              variant=\"outlined\"\n              endIcon={<CachedIcon />}\n            >\n              {onTryText || t(\"common:tryagain\")}\n            </Button>\n          </Box>\n        )}\n      </Box>\n    </Paper>\n  );\n};\n\nexport default PageError;\n","import React from \"react\";\nimport propTypes from \"prop-types\";\nimport { makeStyles, Typography } from \"@material-ui/core\";\n\nconst SquareButton = ({\n  title,\n  onClick,\n  py = 1,\n  px = 2,\n  type = \"default\",\n  wIcon,\n  ver,\n}) => {\n  const classes = useStyle();\n  return (\n    <div className={`center box-shadow`}>\n      <Typography\n        className={`${classes[type]} flex ${\n          ver ? \"ver\" : \"hor\"\n        } align-items-center flex-justify-center grow1 center text-light bolder`}\n        style={{ padding: `${py}rem ${px}rem` }}\n        onClick={onClick}\n      >\n        {wIcon}\n        {title}\n      </Typography>\n    </div>\n  );\n};\n\nSquareButton.propTypes = {\n  type: propTypes.oneOf([\n    \"primary\",\n    \"secondary\",\n    \"warning\",\n    \"error\",\n    \"info\",\n    \"success\",\n    \"default\",\n  ]),\n  padding: propTypes.oneOf([1, 2, 3]),\n};\n\nconst useStyle = makeStyles((theme) => ({\n  primary: {\n    background: theme.palette.primary.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.primary.light,\n    },\n    \"&:active\": {\n      background: theme.palette.primary.dark,\n    },\n  },\n  secondary: {\n    background: theme.palette.secondary.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.secondary.light,\n    },\n    \"&:active\": {\n      background: theme.palette.secondary.dark,\n    },\n  },\n  warning: {\n    background: theme.palette.warning.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.secondary.light,\n    },\n    \"&:active\": {\n      background: theme.palette.secondary.dark,\n    },\n  },\n  error: {\n    background: theme.palette.error.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.error.light,\n    },\n    \"&:active\": {\n      background: theme.palette.error.dark,\n    },\n  },\n  info: {\n    background: theme.palette.info.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.info.light,\n    },\n    \"&:active\": {\n      background: theme.palette.info.dark,\n    },\n  },\n  success: {\n    background: theme.palette.success.main,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.success.light,\n    },\n    \"&:active\": {\n      background: theme.palette.success.dark,\n    },\n  },\n  default: {\n    background: theme.palette.grey[600],\n    cursor: \"pointer\",\n    \"&:hover\": {\n      background: theme.palette.grey[400],\n    },\n    \"&:active\": {\n      background: theme.palette.grey[800],\n    },\n  },\n}));\n\nexport default SquareButton;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ClearRoundedIcon from \"@material-ui/icons/ClearRounded\";\nimport ButtonSpinner from \"../UI/Spinners/ButtonSpinner\";\nimport { useTranslation } from \"react-i18next\";\nimport CheckRoundedIcon from \"@material-ui/icons/CheckRounded\";\n\nconst GeneralDialog = ({\n  dialogOpen,\n  onCancel,\n  onConfirm,\n  loading,\n  disabled,\n  title,\n  subtitle,\n  contentComponent,\n  confirmText,\n  confirmIcon,\n  backText,\n  backIcon,\n  fullWidth,\n  withoutConfirmBtn,\n  disableBackdropClick,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <Dialog\n      open={dialogOpen}\n      onClose={onCancel}\n      aria-labelledby=\"dialog-title\"\n      fullWidth={fullWidth}\n      disableBackdropClick={!!disableBackdropClick}\n      disableEscapeKeyDown={!!disableBackdropClick}\n    >\n      {title && (\n        <DialogTitle id=\"dialog-title\" style={{ textAlign: \"center\" }}>\n          {title}\n        </DialogTitle>\n      )}\n      {(subtitle || contentComponent) && (\n        <DialogContent>\n          {contentComponent}\n          <DialogContentText>{subtitle}</DialogContentText>\n        </DialogContent>\n      )}\n      <DialogActions\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          padding: 15,\n        }}\n      >\n        <Button\n          onClick={onCancel}\n          variant=\"contained\"\n          color=\"default\"\n          startIcon={backIcon ? backIcon : <ClearRoundedIcon />}\n        >\n          {backText ? backText : t(\"common:cancel\")}\n        </Button>\n        {!withoutConfirmBtn && (\n          <Button\n            onClick={onConfirm}\n            variant=\"contained\"\n            color=\"primary\"\n            startIcon={confirmIcon ? confirmIcon : <CheckRoundedIcon />}\n            endIcon={loading ? <ButtonSpinner /> : null}\n            disabled={loading || disabled}\n          >\n            {confirmText}\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default GeneralDialog;\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  useContext,\n  useRef,\n} from \"react\";\nimport { intervalToDuration, formatDuration, format, isAfter } from \"date-fns\";\nimport { Typography, Grid, makeStyles, Box } from \"@material-ui/core\";\nimport themeContext from \"../../theme/themeContext\";\nimport i18n from \"../../i18n\";\nimport { arSA } from \"date-fns/locale\";\n\nconst checkIfExpired = (duration) => {\n  let expired = true;\n  for (const key in duration) {\n    if (duration[key] > 0) {\n      expired = false;\n      break;\n    }\n  }\n  return expired;\n};\n\nconst CountDown = ({ date = new Date() }) => {\n  // let interval;\n  const [counter, setCounter] = useState([]);\n  const [expired, setExpired] = useState(false);\n  const { gradient_secondary } = useContext(themeContext);\n  const interval = useRef();\n\n  const countTime = useCallback(() => {\n    const endDate = isAfter(date, Date.now()) ? date : Date.now();\n\n    const duration = intervalToDuration({\n      start: new Date(),\n      end: endDate,\n    });\n\n    //Clear interval when done - Use when durationFormatter zero:true\n    const isExpired = checkIfExpired(duration);\n    if (isExpired) {\n      setExpired(true);\n      return clearInterval(interval.current);\n    }\n\n    const durationFormatted = formatDuration(duration, {\n      format: [\"days\", \"hours\", \"minutes\", \"seconds\"],\n      zero: true,\n      delimiter: \";\",\n    });\n\n    // //Clear interval when done - Use when durationFormatter zero:false\n    // if (!durationFormatted) {\n    //   setExpired(true);\n    //   return clearInterval(interval.current);\n    // }\n\n    let splitted = durationFormatted.split(\";\");\n    if (i18n.dir(i18n.language) === \"rtl\") {\n      splitted.reverse();\n    }\n    setCounter(splitted);\n  }, [date, interval]);\n\n  useEffect(() => {\n    let _intTimer = counter.length ? 1000 : 0;\n    if (!expired) {\n      interval.current = setInterval(() => {\n        countTime();\n      }, _intTimer);\n    }\n\n    return () => clearInterval(interval.current);\n  }, [counter, countTime, expired]);\n\n  const classes = useStyles();\n  return expired ? (\n    <Typography variant=\"body2\">\n      {format(date, \"yyyy MMMM dd - hh:mm:ss aaaa\", {\n        locale: i18n.language === \"ar\" ? arSA : \"\",\n      })}\n    </Typography>\n  ) : (\n    <Grid container>\n      {counter.map((c, i) => {\n        const section = c.split(\" \");\n\n        return (\n          <Grid item lg={3} md={6} sm={6} xs={6} key={i}>\n            <Box className={`center ${gradient_secondary} ${classes.square}`}>\n              {section.map((sec, ii) =>\n                ii > 0 ? (\n                  <Typography key={ii}>\n                    {sec.charAt(0).toUpperCase()}\n                  </Typography>\n                ) : (\n                  <Typography key={ii}>{sec}</Typography>\n                )\n              )}\n            </Box>\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  square: {\n    color: theme.palette.secondary.contrastText,\n    margin: 1,\n    padding: 2,\n  },\n}));\n\nexport default CountDown;\n","import React, {\n  useRef,\n  useState,\n  useEffect,\n  Fragment,\n  useCallback,\n} from \"react\";\nimport Ttext from \"../../components/common/Ttext\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as actions from \"../../store/actions\";\nimport {\n  Box,\n  Typography,\n  Grid,\n  Hidden,\n  Tooltip,\n  IconButton,\n  Paper,\n} from \"@material-ui/core\";\nimport Input from \"../../components/Inputs/Input\";\nimport SquareButton from \"../../components/Buttons/SquareButton\";\nimport { tableIcons } from \"../../util/tableIcons\";\nimport MaterialTable from \"material-table\";\nimport EditRoundedIcon from \"@material-ui/icons/EditRounded\";\nimport DeleteRoundedIcon from \"@material-ui/icons/DeleteRounded\";\nimport i18n from \"../../i18n\";\nimport IconTextNotice from \"../../components/common/IconTextNotice\";\nimport CardGiftcardRoundedIcon from \"@material-ui/icons/CardGiftcardRounded\";\nimport IosSwitch from \"../../components/Inputs/IosSwitch\";\nimport { arSA } from \"date-fns/locale\";\nimport TableSkeleton from \"../../components/common/TableSkeleton\";\nimport GeneralDialog from \"../../components/common/GeneralDialog\";\nimport PageError from \"../../components/common/PageError\";\nimport { format } from \"date-fns\";\nimport CountDown from \"../../components/common/CountDown\";\n\nconst tableHeaders = [\n  {\n    title: <Ttext ns=\"common\" text=\"name\" />,\n    field: \"title\",\n    width: 150,\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"code\" />,\n    field: \"code\",\n    width: 150,\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"type\" />,\n    field: \"type\",\n    render: (row) => <Ttext ns=\"coupons\" text={row.type} />,\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"amount\" />,\n    field: \"amount\",\n    render: (row) => (row.type === \"P\" ? `${row.amount}%` : row.amount),\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"total_limit\" />,\n    field: \"total_limit\",\n    render: (row) =>\n      row.total_limit > 0 ? (\n        row.total_limit\n      ) : (\n        <Ttext ns=\"coupons\" text=\"unlimited\" />\n      ),\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"user_limit\" />,\n    field: \"user_limit\",\n    render: (row) =>\n      row.user_limit > 0 ? (\n        row.user_limit\n      ) : (\n        <Ttext ns=\"coupons\" text=\"unlimited\" />\n      ),\n    width: 130,\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"min_total\" />,\n    field: \"min_total\",\n    render: (row) =>\n      row.min_total > 0 ? (\n        row.min_total\n      ) : (\n        <Ttext ns=\"coupons\" text=\"unlimited\" />\n      ),\n  },\n\n  {\n    title: <Ttext ns=\"coupons\" text=\"used\" />,\n    field: \"used\",\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"date_start\" />,\n    field: \"date_start\",\n    render: (row) =>\n      format(new Date(row.date_start), \"yyyy MMMM dd hh:mm:ss aaaa\", {\n        locale: i18n.language === \"ar\" ? arSA : \"\",\n      }),\n  },\n  {\n    title: <Ttext ns=\"coupons\" text=\"date_end\" />,\n    field: \"date_end\",\n    render: (row) => <CountDown date={new Date(row.date_end)} />,\n    width: 170,\n  },\n];\n\nconst initialQuery = {\n  q: \"\",\n  page: 0,\n  perPage: 10,\n  sort: \"date_added\",\n  direction: \"asc\",\n};\n\nlet timeout;\n\nconst Coupons = ({ location }) => {\n  const [query, setQuery] = useState(initialQuery);\n  const [deleteDialog, setDeleteDialog] = useState({\n    open: false,\n    selected: null,\n  });\n\n  const coupons = useSelector((state) => state.coupons);\n  const [mounted, setMounted] = useState(false);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const tableRef = useRef();\n  const hasPagination = coupons.coupons.pagination;\n\n  const handleQuery = (value, validity, name) => {\n    setQuery((prev) => {\n      return {\n        ...prev,\n        [name]: value,\n      };\n    });\n  };\n\n  const fetchCoupons = useCallback(async () => {\n    try {\n      await dispatch(actions.getCoupons(query));\n    } finally {\n      setMounted(true);\n    }\n  }, [dispatch, query]);\n\n  useEffect(() => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      fetchCoupons();\n    }, 500);\n    return () => clearTimeout(timeout);\n  }, [query, fetchCoupons]);\n\n  const handleSwitchState = (data) => {\n    const id = data.coupon_id;\n    const status = data.status > 0 ? 0 : 1;\n    dispatch(actions.switchCouponStatus(id, status));\n  };\n\n  const handleTriggerDeleteDialog = (selected) => {\n    setDeleteDialog({\n      open: !deleteDialog.open,\n      selected: selected,\n    });\n  };\n\n  const handleDeleteCoupon = async () => {\n    const id = deleteDialog.selected.coupon_id;\n    await dispatch(actions.deleteCoupon(id));\n    handleTriggerDeleteDialog();\n  };\n\n  return (\n    <Fragment>\n      <Box>\n        <Typography variant=\"h4\" className=\"py\">\n          {t(\"coupons:coupons_list\")}\n        </Typography>\n        <Grid container spacing={2} alignItems=\"center\" className=\"py\">\n          <Grid item sm={8} xs={12}>\n            <Input\n              label={t(\"common:searchhhh\")}\n              getResult={handleQuery}\n              name=\"q\"\n              initialValue={query.q}\n            />\n          </Grid>\n          <Hidden smDown>\n            <Grid item md={2} />\n          </Hidden>\n          <Grid item md={2} sm={4} xs={12}>\n            <Link to={`${location.pathname}/add`}>\n              <SquareButton\n                title={t(\"coupons:new_coupon\")}\n                wIcon={\n                  <CardGiftcardRoundedIcon\n                    className=\"text-light\"\n                    fontSize=\"large\"\n                  />\n                }\n                py={0.6}\n                px={0.8}\n                type=\"primary\"\n              />\n            </Link>\n          </Grid>\n        </Grid>\n      </Box>\n      {!mounted ? (\n        <Paper>\n          <TableSkeleton row={2} />\n        </Paper>\n      ) : !coupons.loading && coupons.errors ? (\n        <PageError\n          text={coupons.errors.message || t(\"common:uncommon_err\")}\n          onTryAgain={fetchCoupons}\n        />\n      ) : (\n        <MaterialTable\n          icons={tableIcons}\n          columns={tableHeaders}\n          tableRef={tableRef}\n          data={coupons.coupons.coupons}\n          components={{\n            Toolbar: (props) => \" \",\n            Actions: (props) => {\n              const coupon = props.data;\n              return (\n                <>\n                  <Tooltip title={t(\"common:edit\")}>\n                    <Link to={`${location.pathname}/edit/${coupon.coupon_id}`}>\n                      <IconButton>\n                        <EditRoundedIcon color=\"secondary\" />\n                      </IconButton>\n                    </Link>\n                  </Tooltip>\n                  <Tooltip title={t(\"common:delete\")}>\n                    <IconButton\n                      onClick={() => handleTriggerDeleteDialog(coupon)}\n                    >\n                      <DeleteRoundedIcon color=\"error\" />\n                    </IconButton>\n                  </Tooltip>\n                  <IosSwitch\n                    state={coupon.status}\n                    onChange={() => handleSwitchState(coupon)}\n                    name=\"status\"\n                    loading={coupons.itemLoading}\n                  />\n                </>\n              );\n            },\n          }}\n          actions={[\n            {\n              icon: () => null,\n              onClick: () => null,\n              hidden: true,\n            },\n          ]}\n          options={{\n            detailPanelColumnAlignment: \"right\",\n            actionsColumnIndex: -1,\n            draggable: false,\n            emptyRowsWhenPaging: false,\n            search: false,\n            pageSize: query.perPage,\n            pageSizeOptions: [5, 10, 20, 50],\n            thirdSortClick: false,\n            showTitle: false,\n          }}\n          onChangeRowsPerPage={(size) => handleQuery(size, true, \"perPage\")}\n          onOrderChange={(orderBy, direction) => {\n            const sort = tableHeaders[orderBy].field;\n            setQuery((prev) => {\n              return {\n                ...prev,\n                sort: sort,\n                direction: direction,\n              };\n            });\n          }}\n          totalCount={hasPagination ? hasPagination.totalCount : 0}\n          page={hasPagination ? hasPagination.currentPage : 1}\n          onChangePage={(page) => handleQuery(page, true, \"page\")}\n          localization={{\n            header: {\n              actions: \"\",\n            },\n            body: {\n              emptyDataSourceMessage: coupons.loading\n                ? t(\"common:loadingggg\")\n                : !coupons.loading &&\n                  !coupons.errors && (\n                    <IconTextNotice\n                      Icon={CardGiftcardRoundedIcon}\n                      text={t(\"coupons:no_coupons\")}\n                    />\n                  ),\n              dateTimePickerLocalization: i18n.language === \"ar\" ? arSA : \"\",\n            },\n            pagination: {\n              labelDisplayedRows:\n                \"{from}-{to} \" + t(\"common:from\") + \" {count}\",\n              labelRowsSelect: t(\"common:perpage\"),\n            },\n          }}\n          isLoading={coupons.loading}\n        />\n      )}\n      <GeneralDialog\n        dialogOpen={deleteDialog.open}\n        confirmText={t(\"common:confirm\")}\n        title={t(\"common:confirm_delete\")}\n        onCancel={() => handleTriggerDeleteDialog()}\n        onConfirm={handleDeleteCoupon}\n        loading={coupons.itemLoading}\n        disableBackdropClick\n      />\n    </Fragment>\n  );\n};\n\nexport default Coupons;\n"],"sourceRoot":""}